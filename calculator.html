<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>All Tools Hub - Futuristic Calculator</title>
<meta name="description" content="Futuristic Scientific Calculator with Neon Theme, History, Memory, CSV Download, and Advanced Functions Panel.">
<script src="https://cdn.tailwindcss.com"></script>
<style>
body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #0f172a; color: #fff; }
.calculator-container { max-width: 550px; margin: 2rem auto; background: #111827; border-radius: 1rem; box-shadow: 0 0 20px #4f46e5, 0 0 40px #6366f1; padding: 25px; }
.display { background: rgba(255,255,255,0.05); padding: 20px; border-radius: 0.75rem; font-size: 2rem; text-align: right; min-height: 60px; margin-bottom: 10px; word-wrap: break-word; box-shadow: inset 0 0 10px #6366f1; }
.memory-display { font-size: 0.9rem; color: #facc15; text-align: left; margin-bottom: 5px; min-height: 20px; }
.history-panel { background: rgba(255,255,255,0.05); max-height: 180px; overflow-y: auto; border-radius: 0.5rem; padding: 10px; font-size: 0.85rem; margin-bottom: 10px; color: #9ca3af; box-shadow: inset 0 0 10px #4f46e5; }
.button-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 12px; }
.button-grid button { padding: 18px; border: none; border-radius: 0.75rem; font-size: 1rem; font-weight: bold; cursor: pointer; transition: all 0.3s ease; background: rgba(255,255,255,0.05); color: #fff; box-shadow: 0 4px #00000020, 0 0 8px #6366f1; }
.button-grid button:hover { background: #4f46e5; box-shadow: 0 6px #1e3a8a, 0 0 12px #a5b4fc; transform: translateY(-3px); }
.button-grid .operator { background: #f59e0b; box-shadow: 0 4px #b45309, 0 0 8px #facc15; }
.button-grid .operator:hover { background: #d97706; box-shadow: 0 6px #b45309, 0 0 12px #facc15; }
.button-grid .equal { background: #10b981; grid-column: span 2; box-shadow: 0 4px #047857, 0 0 8px #34d399; }
.button-grid .equal:hover { background: #059669; box-shadow: 0 6px #047857, 0 0 12px #34d399; }
.button-grid .clear { background: #ef4444; box-shadow:0 4px #b91c1c,0 0 8px #f87171; }
.button-grid .clear:hover { background: #b91c1c; box-shadow:0 6px #7f1d1d,0 0 12px #fca5a5; }
.download-btn { background:#6366f1; padding: 10px 18px; border-radius: 0.75rem; font-weight:bold; margin-top:5px; cursor:pointer; transition:all 0.2s ease; box-shadow:0 4px #4f46e5; }
.download-btn:hover { background:#4f46e5; box-shadow:0 6px #312e81; }
.rad-deg-toggle { background:#14b8a6; padding:6px 10px; border-radius:0.5rem; font-weight:bold; cursor:pointer; margin-bottom:10px; transition:all 0.2s ease; }
.rad-deg-toggle:hover { background:#0d9488; }
.advanced-panel { background: rgba(255,255,255,0.05); margin-top: 15px; border-radius: 0.75rem; padding: 15px; max-height: 0; overflow: hidden; transition: max-height 0.4s ease; box-shadow: inset 0 0 10px #6366f1; }
.advanced-panel.show { max-height: 1400px; }
.advanced-btn { background:#8b5cf6; padding:8px 12px; border-radius:0.5rem; margin-top:10px; cursor:pointer; font-weight:bold; transition:all 0.2s ease; }
.advanced-btn:hover { background:#7c3aed; }
.advanced-panel input { width: 50px; padding: 5px; margin: 2px; border-radius: 0.25rem; background: #1f2937; color: #fff; text-align:center; border:1px solid #4f46e5; box-shadow:0 0 6px #6366f1; transition: all 0.2s ease; }
.advanced-panel input:focus { outline:none; border-color:#10b981; box-shadow:0 0 10px #10b981; }
.neon-input { border: 2px solid #6366f1; box-shadow: 0 0 5px #6366f1,0 0 15px #4f46e5,0 0 30px #a5b4fc; transition: all 0.2s ease-in-out; color:#fff; background:#1f2937; text-align:center; font-weight:bold; }
.neon-input:focus { outline:none; border-color:#f59e0b; box-shadow:0 0 5px #f59e0b,0 0 15px #fbbf24,0 0 30px #facc15; animation:flicker 1.5s infinite alternate; }
.neon-cell { display:inline-block; padding:2px 6px; margin:2px; border-radius:4px; font-weight:bold; animation:flickerRainbow 2s infinite alternate; }
@keyframes flicker { 0%,19%,21%,23%,25%,54%,56%,100%{opacity:1;} 20%,24%,55%{opacity:0.4;} }
@keyframes flickerRainbow {0%{color:#ff0000; text-shadow:0 0 5px #ff0000,0 0 10px #ff0000; opacity:1;}16%{color:#ff7f00; text-shadow:0 0 5px #ff7f00,0 0 10px #ff7f00;}32%{color:#ffff00; text-shadow:0 0 5px #ffff00,0 0 10px #ffff00;}48%{color:#00ff00; text-shadow:0 0 5px #00ff00,0 0 10px #00ff00;}64%{color:#0000ff; text-shadow:0 0 5px #0000ff,0 0 10px #0000ff;}80%{color:#4b0082; text-shadow:0 0 5px #4b0082,0 0 10px #4b0082;}100%{color:#8f00ff; text-shadow:0 0 5px #8f00ff,0 0 10px #8f00ff;}}
</style>
</head>
<body>
<header class="bg-gray-900 shadow fixed w-full z-50">
<div class="max-w-7xl mx-auto flex justify-between items-center px-6 py-4">
<h1 class="text-2xl font-bold text-indigo-600 cursor-pointer" onclick="window.location.href='index.html'">All Tools Hub</h1>
</div>
</header>

<main class="pt-32 px-6 text-center">
<h2 class="text-4xl font-bold text-indigo-500 mb-6">Neon Futuristic Scientific Calculator</h2>

<div class="calculator-container">
  <div class="memory-display" id="memoryDisplay">M: 0</div>
  <div class="display" id="calcDisplay">0</div>
  <div class="history-panel" id="historyPanel"></div>
  <button class="download-btn" onclick="downloadCSV()">Download History CSV</button>
  <div><button class="rad-deg-toggle" onclick="toggleRadDeg(event)">RAD</button></div>

  <div class="button-grid mt-2">
    <!-- Calculator buttons (same as your last code) -->
  </div>

  <button class="advanced-btn" onclick="toggleAdvanced()">Advanced Functions ⬇</button>
  <div class="advanced-panel" id="advancedPanel">
    <!-- 2x2 Matrix -->
    <h3 class="text-xl font-bold mb-2">Matrix Operations</h3>
    <p>2×2 Matrix:</p>
    <input class="neon-input" id="m2a11" placeholder="a11">
    <input class="neon-input" id="m2a12" placeholder="a12"><br>
    <input class="neon-input" id="m2a21" placeholder="a21">
    <input class="neon-input" id="m2a22" placeholder="a22"><br>
    <button class="advanced-btn" onclick="matrix2Determinant()">Determinant</button>
    <button class="advanced-btn" onclick="matrix2Inverse()">Inverse</button>
    <div id="matrix2Result" class="mt-1"></div>

    <!-- 3x3 Matrix -->
    <p class="mt-3">3×3 Matrix:</p>
    <input class="neon-input" id="m3a11"><input class="neon-input" id="m3a12"><input class="neon-input" id="m3a13"><br>
    <input class="neon-input" id="m3a21"><input class="neon-input" id="m3a22"><input class="neon-input" id="m3a23"><br>
    <input class="neon-input" id="m3a31"><input class="neon-input" id="m3a32"><input class="neon-input" id="m3a33"><br>
    <button class="advanced-btn" onclick="matrix3Determinant()">Determinant</button>
    <button class="advanced-btn" onclick="matrix3Inverse()">Inverse</button>
    <div id="matrix3Result" class="mt-1"></div>

    <!-- 3x3 Linear Solver -->
    <h3 class="text-xl font-bold mt-4 mb-2">3×3 Linear Solver (Ax=B)</h3>
    <p>Matrix A:</p>
    <input class="neon-input" id="la11"><input class="neon-input" id="la12"><input class="neon-input" id="la13"><br>
    <input class="neon-input" id="la21"><input class="neon-input" id="la22"><input class="neon-input" id="la23"><br>
    <input class="neon-input" id="la31"><input class="neon-input" id="la32"><input class="neon-input" id="la33"><br>
    <p>Vector B:</p>
    <input class="neon-input" id="lb1"><input class="neon-input" id="lb2"><input class="neon-input" id="lb3"><br>
    <button class="advanced-btn" onclick="solveLinear3x3()">Solve</button>
    <div id="linearResult" class="mt-1"></div>

    <!-- Unit Conversions -->
    <h3 class="text-xl font-bold mt-4 mb-2">Unit Conversions</h3>
    <p>Length (m ↔ cm):</p>
    <input class="neon-input" id="lengthInput"><button class="advanced-btn" onclick="convertUnit('length')">Convert</button><span id="lengthResult" class="ml-2"></span><br>
    <p>Weight (kg ↔ g):</p>
    <input class="neon-input" id="weightInput"><button class="advanced-btn" onclick="convertUnit('weight')">Convert</button><span id="weightResult" class="ml-2"></span><br>
    <p>Temperature (C ↔ F):</p>
    <input class="neon-input" id="tempInput"><button class="advanced-btn" onclick="convertUnit('temp')">Convert</button><span id="tempResult" class="ml-2"></span><br>

    <!-- Constants -->
    <h3 class="text-xl font-bold mt-4 mb-2">Constants</h3>
    <button class="advanced-btn" onclick="appendConstant('Math.PI')">π</button>
    <button class="advanced-btn" onclick="appendConstant('Math.E')">e</button>
    <button class="advanced-btn" onclick="appendConstant('6.67430e-11')">G</button>
    <button class="advanced-btn" onclick="appendConstant('9.80665')">g</button>
  </div>
</div>

<div class="mt-6">
<button onclick="window.location.href='index.html'" class="bg-indigo-600 text-white px-6 py-2 rounded hover:bg-indigo-700 transition">Back to Home</button>
</div>
</main>

<footer class="bg-gray-900 text-gray-300 py-6 text-center">
© 2025 All Tools Hub. All rights reserved. | Contact: saadkhan0425@gmail.com
</footer>

<script>
let calcMemory=0, calcHistory=[], radMode=true;
function appendNumber(n){ let d=document.getElementById('calcDisplay'); d.innerText=(d.innerText==='0')? n : d.innerText+n; }
function appendOperator(op){ document.getElementById('calcDisplay').innerText+=op; }
function appendFunction(fn){ document.getElementById('calcDisplay').innerText+=fn+'('; }
function appendConstant(c){ document.getElementById('calcDisplay').innerText+=c; }
function clearAll(){ document.getElementById('calcDisplay').innerText='0'; }
function backspace(){ let d=document.getElementById('calcDisplay'); d.innerText=d.innerText.slice(0,-1)||'0'; }
function calculateResult(){ let d=document.getElementById('calcDisplay'); try{ d.innerText=eval(d.innerText)||0; calcHistory.push(d.innerText); updateHistory(); }catch(e){d.innerText='Error';} }
function factorial(){ let n=parseInt(document.getElementById('calcDisplay').innerText)||0; let f=1; for(let i=1;i<=n;i++) f*=i; document.getElementById('calcDisplay').innerText=f; }
function memoryAdd(){ calcMemory+=parseFloat(document.getElementById('calcDisplay').innerText)||0; document.getElementById('memoryDisplay').innerText='M: '+calcMemory; }
function memorySubtract(){ calcMemory-=parseFloat(document.getElementById('calcDisplay').innerText)||0; document.getElementById('memoryDisplay').innerText='M: '+calcMemory; }
function memoryRecall(){ document.getElementById('calcDisplay').innerText=calcMemory; }
function updateHistory(){ document.getElementById('historyPanel').innerText=calcHistory.join('\n'); }
function downloadCSV(){ let csv='Result\n'+calcHistory.join('\n'); let blob=new Blob([csv],{type:'text/csv'}); let a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='history.csv'; a.click(); }
function toggleRadDeg(e){ radMode=!radMode; e.target.innerText=radMode?'RAD':'DEG'; }
function toggleAdvanced(){ document.getElementById('advancedPanel').classList.toggle('show'); }

// Advanced Functions
function matrix2Determinant(){
  let a11=parseFloat(document.getElementById('m2a11').value)||0,a12=parseFloat(document.getElementById('m2a12').value)||0;
  let a21=parseFloat(document.getElementById('m2a21').value)||0,a22=parseFloat(document.getElementById('m2a22').value)||0;
  let det=a11*a22-a12*a21;
  document.getElementById('matrix2Result').innerText='Determinant: '+det;
}
function matrix2Inverse(){
  let a11=parseFloat(document.getElementById('m2a11').value)||0,a12=parseFloat(document.getElementById('m2a12').value)||0;
  let a21=parseFloat(document.getElementById('m2a21').value)||0,a22=parseFloat(document.getElementById('m2a22').value)||0;
  let det=a11*a22-a12*a21;if(det===0){document.getElementById('matrix2Result').innerText='Not invertible';return;}
  let inv=[[a22/det,-a12/det],[-a21/det,a11/det]];
  document.getElementById('matrix2Result').innerText='Inverse: [['+inv[0]+'],['+inv[1]+']]';
}
function matrix3Determinant(){
  let m=[];for(let i=1;i<=3;i++){m[i-1]=[];for(let j=1;j<=3;j++){m[i-1][j-1]=parseFloat(document.getElementById('m3a'+i+j).value)||0;}}
  let det=m[0][0]*(m[1][1]*m[2][2]-m[1][2]*m[2][1])-m[0][1]*(m[1][0]*m[2][2]-m[1][2]*m[2][0])+m[0][2]*(m[1][0]*m[2][1]-m[1][1]*m[2][0]);
  document.getElementById('matrix3Result').innerText='Determinant: '+det;
}
function matrix3Inverse(){
  let m=[];for(let i=1;i<=3;i++){m[i-1]=[];for(let j=1;j<=3;j++){m[i-1][j-1]=parseFloat(document.getElementById('m3a'+i+j).value)||0;}}
  let det=m[0][0]*(m[1][1]*m[2][2]-m[1][2]*m[2][1])-m[0][1]*(m[1][0]*m[2][2]-m[1][2]*m[2][0])+m[0][2]*(m[1][0]*m[2][1]-m[1][1]*m[2][0]);
  if(det===0){document.getElementById('matrix3Result').innerText='Not invertible'; return;}
  // Cofactor matrix and transpose
  let c=[[m[1][1]*m[2][2]-m[1][2]*m[2][1],-(m[1][0]*m[2][2]-m[1][2]*m[2][0]), m[1][0]*m[2][1]-m[1][1]*m[2][0]],
         [-(m[0][1]*m[2][2]-m[0][2]*m[2][1]), m[0][0]*m[2][2]-m[0][2]*m[2][0],-(m[0][0]*m[2][1]-m[0][1]*m[2][0])],
         [m[0][1]*m[1][2]-m[0][2]*m[1][1],-(m[0][0]*m[1][2]-m[0][2]*m[1][0]), m[0][0]*m[1][1]-m[0][1]*m[1][0]]];
  let inv=[];for(let i=0;i<3;i++){inv[i]=[];for(let j=0;j<3;j++){inv[i][j]=c[j][i]/det;}}
  document.getElementById('matrix3Result').innerText='Inverse: [['+inv[0]+'],['+inv[1]+'],['+inv[2]+']]';
}
function solveLinear3x3(){
  let A=[],B=[];for(let i=1;i<=3;i++){A[i-1]=[];for(let j=1;j<=3;j++){A[i-1][j-1]=parseFloat(document.getElementById('la'+i+j).value)||0;}} 
  for(let i=1;i<=3;i++){B[i-1]=parseFloat(document.getElementById('lb'+i).value)||0;}
  let det=A[0][0]*(A[1][1]*A[2][2]-A[1][2]*A[2][1])-A[0][1]*(A[1][0]*A[2][2]-A[1][2]*A[2][0])+A[0][2]*(A[1][0]*A[2][1]-A[1][1]*A[2][0]);
  if(det===0){document.getElementById('linearResult').innerText='No unique solution'; return;}
  let inv=[];let c=[[A[1][1]*A[2][2]-A[1][2]*A[2][1],-(A[1][0]*A[2][2]-A[1][2]*A[2][0]), A[1][0]*A[2][1]-A[1][1]*A[2][0]],
         [-(A[0][1]*A[2][2]-A[0][2]*A[2][1]), A[0][0]*A[2][2]-A[0][2]*A[2][0],-(A[0][0]*A[2][1]-A[0][1]*A[2][0])],
         [A[0][1]*A[1][2]-A[0][2]*A[1][1],-(A[0][0]*A[1][2]-A[0][2]*A[1][0]), A[0][0]*A[1][1]-A[0][1]*A[1][0]]];
  for(let i=0;i<3;i++){inv[i]=[];for(let j=0;j<3;j++){inv[i][j]=c[j][i]/det;}}
  let X=[];for(let i=0;i<3;i++){X[i]=0;for(let j=0;j<3;j++){X[i]+=inv[i][j]*B[j];}}
  document.getElementById('linearResult').innerText='x='+X[0]+', y='+X[1]+', z='+X[2];
}
function convertUnit(type){
  if(type==='length'){ let m=parseFloat(document.getElementById('lengthInput').value)||0; document.getElementById('lengthResult').innerText=(m*100)+' cm / '+(m/100)+' m'; }
  else if(type==='weight'){ let kg=parseFloat(document.getElementById('weightInput').value)||0; document.getElementById('weightResult').innerText=(kg*1000)+' g / '+(kg/1000)+' kg'; }
  else if(type==='temp'){ let c=parseFloat(document.getElementById('tempInput').value)||0; document.getElementById('tempResult').innerText=(c*9/5+32)+' °F / '+((c-32)*5/9)+' °C'; }
}
</script>
</body>
</html>
