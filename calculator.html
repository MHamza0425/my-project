<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>All Tools Hub - Calculator</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root {
      --theme-color: #2563eb; /* default = blue */
    }

    /* Glassmorphism */
    .glass {
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 1rem;
    }

    /* Theme buttons */
    .btn-theme {
      background-color: var(--theme-color);
      color: white;
    }
    .btn-theme:hover {
      opacity: 0.85;
    }

    /* Modal backdrop */
    #settingsModal {
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
    }
    #settingsModal.active {
      display: flex;
      opacity: 1;
      pointer-events: auto;
      animation: fadeIn 0.3s ease forwards;
    }
    #settingsModal.closing {
      animation: fadeOut 0.25s ease forwards;
    }

    /* Modal animations */
    @keyframes fadeIn { from {opacity: 0;} to {opacity: 1;} }
    @keyframes fadeOut { from {opacity: 1;} to {opacity: 0;} }
    @keyframes zoomIn { 0% { transform: scale(0.8); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
    @keyframes zoomOut { 0% { transform: scale(1); opacity: 1; } 100% { transform: scale(0.8); opacity: 0; } }

    .modal-content {
      animation: zoomIn 0.3s ease forwards;
    }
    .modal-content.closing {
      animation: zoomOut 0.25s ease forwards;
    }
  </style>
</head>
<body class="bg-gray-900 text-white min-h-screen flex flex-col">

  <!-- Header -->
  <header class="p-4 shadow-lg glass text-center">
    <h1 class="text-3xl font-bold" style="color: var(--theme-color)">All Tools Hub</h1>
  </header>

  <!-- Calculator -->
  <main class="flex-grow flex items-center justify-center p-4">
    <div class="glass p-6 w-full max-w-sm">
      <input type="text" id="display" class="w-full mb-4 p-3 rounded text-right text-xl bg-gray-800 text-white" disabled>

      <div class="grid grid-cols-4 gap-2">
        <button onclick="clearDisplay()" class="p-3 rounded bg-red-600 hover:bg-red-700">C</button>
        <button onclick="append('%')" class="p-3 rounded bg-gray-700 hover:bg-gray-600">%</button>
        <button onclick="backspace()" class="p-3 rounded bg-gray-700 hover:bg-gray-600">âŒ«</button>
        <button onclick="append('/')" class="p-3 rounded btn-theme">Ã·</button>

        <button onclick="append('7')" class="p-3 rounded bg-gray-700 hover:bg-gray-600">7</button>
        <button onclick="append('8')" class="p-3 rounded bg-gray-700 hover:bg-gray-600">8</button>
        <button onclick="append('9')" class="p-3 rounded bg-gray-700 hover:bg-gray-600">9</button>
        <button onclick="append('*')" class="p-3 rounded btn-theme">Ã—</button>

        <button onclick="append('4')" class="p-3 rounded bg-gray-700 hover:bg-gray-600">4</button>
        <button onclick="append('5')" class="p-3 rounded bg-gray-700 hover:bg-gray-600">5</button>
        <button onclick="append('6')" class="p-3 rounded bg-gray-700 hover:bg-gray-600">6</button>
        <button onclick="append('-')" class="p-3 rounded btn-theme">âˆ’</button>

        <button onclick="append('1')" class="p-3 rounded bg-gray-700 hover:bg-gray-600">1</button>
        <button onclick="append('2')" class="p-3 rounded bg-gray-700 hover:bg-gray-600">2</button>
        <button onclick="append('3')" class="p-3 rounded bg-gray-700 hover:bg-gray-600">3</button>
        <button onclick="append('+')" class="p-3 rounded btn-theme">+</button>

        <button onclick="append('0')" class="col-span-2 p-3 rounded bg-gray-700 hover:bg-gray-600">0</button>
        <button onclick="append('.')" class="p-3 rounded bg-gray-700 hover:bg-gray-600">.</button>
        <button onclick="calculate()" class="p-3 rounded btn-theme">=</button>
      </div>

      <!-- Settings Button -->
      <div class="mt-4 text-center">
        <button onclick="openSettings()" class="px-4 py-2 rounded btn-theme">âš™ Settings</button>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="p-4 text-center glass">
    <p>ðŸ“§ Contact: <a href="mailto:saadkhan0425@gmail.com" style="color: var(--theme-color)">saadkhan0425@gmail.com</a></p>
  </footer>

  <!-- Modal -->
  <div id="settingsModal" class="fixed inset-0 bg-black bg-opacity-50 items-center justify-center hidden">
    <div class="modal-content glass p-6 w-80">
      <h2 class="text-xl mb-4" style="color: var(--theme-color)">âš™ Settings</h2>
      <label class="block mb-2">Theme Color:</label>
      <div class="flex gap-2 mb-4">
        <button onclick="setTheme('blue')" class="w-8 h-8 rounded-full bg-blue-600"></button>
        <button onclick="setTheme('green')" class="w-8 h-8 rounded-full bg-green-600"></button>
        <button onclick="setTheme('red')" class="w-8 h-8 rounded-full bg-red-600"></button>
        <button onclick="setTheme('purple')" class="w-8 h-8 rounded-full bg-purple-600"></button>
      </div>
      <button onclick="closeSettings()" class="mt-2 px-4 py-2 rounded btn-theme">Close</button>
    </div>
  </div>

  <!-- Script -->
  <script>
    const display = document.getElementById('display');

    function append(value) {
      display.value += value;
    }
    function clearDisplay() {
      display.value = '';
    }
    function backspace() {
      display.value = display.value.slice(0, -1);
    }
    function calculate() {
      try {
        display.value = eval(display.value);
      } catch {
        display.value = 'Error';
      }
    }

    function openSettings() {
      const modal = document.getElementById("settingsModal");
      modal.classList.remove("hidden");
      modal.classList.add("active");
    }

    function closeSettings() {
      const modal = document.getElementById("settingsModal");
      const content = modal.querySelector(".modal-content");

      content.classList.add("closing");
      modal.classList.add("closing");

      setTimeout(() => {
        modal.classList.add("hidden");
        modal.classList.remove("active", "closing");
        content.classList.remove("closing");
      }, 300);
    }

    function setTheme(color) {
      let themeMap = {
        blue: "#2563eb",
        green: "#16a34a",
        red: "#dc2626",
        purple: "#9333ea"
      };
      document.documentElement.style.setProperty("--theme-color", themeMap[color]);
      localStorage.setItem("themeColor", color);
    }

    // Load saved theme
    window.onload = () => {
      let saved = localStorage.getItem("themeColor");
      if (saved) setTheme(saved);
    };
  </script>
</body>
</html>
