<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Time Zone Converter</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: #f4f4f4;
      color: #222;
      transition: background 0.3s, color 0.3s;
    }
    header, footer {
      text-align: center;
      padding: 15px;
      background: #333;
      color: white;
    }
    .container {
      max-width: 900px;
      margin: 20px auto;
      padding: 20px;
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
    }
    .row {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
      align-items: center;
    }
    .col {
      flex: 1;
      min-width: 280px;
    }
    label {
      display: block;
      margin: 8px 0 4px;
    }
    select, input {
      width: 100%;
      padding: 8px;
      margin-bottom: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 14px;
    }
    button {
      padding: 10px 20px;
      margin: 5px;
      border: none;
      border-radius: 8px;
      background: #0077cc;
      color: white;
      cursor: pointer;
      transition: background 0.2s;
    }
    button:hover { background: #005fa3; }
    .result-box {
      text-align: center;
      font-size: 18px;
      padding: 10px;
      background: #f9f9f9;
      border-radius: 8px;
      margin-top: 15px;
    }
    .dark-mode {
      background: #121212;
      color: #eee;
    }
    .dark-mode header, .dark-mode footer {
      background: #000;
    }
    .dark-mode .container {
      background: #1e1e1e;
      color: #eee;
    }
    .dark-mode select, .dark-mode input {
      background: #333;
      color: white;
      border: 1px solid #555;
    }
  </style>
</head>
<body>
  <header>
    <h1>üåç Time Zone Converter</h1>
    <button onclick="toggleDarkMode()">Toggle Dark/Light</button>
  </header>

  <div class="container">
    <h2>Convert Between Time Zones</h2>

    <div class="row">
      <div class="col">
        <label for="fromZone">From Time Zone:</label>
        <select id="fromZone"></select>
        <label for="fromTime">Date & Time:</label>
        <input type="datetime-local" id="fromTime">
        <div class="result-box">
          Local Clock: <span id="fromClock">--:--:--</span>
        </div>
      </div>

      <div class="col" style="text-align:center; align-self:center;">
        <button onclick="swapZones()">‚áÜ Swap</button><br>
        <button onclick="adjustDays(-1)">‚¨Ö Previous Day</button>
        <button onclick="adjustDays(1)">Next Day ‚û°</button>
      </div>

      <div class="col">
        <label for="toZone">To Time Zone:</label>
        <select id="toZone"></select>
        <label>Converted Time:</label>
        <div class="result-box">
          <span id="toResult">--:--</span>
        </div>
        <div class="result-box">
          Local Clock: <span id="toClock">--:--:--</span>
        </div>
      </div>
    </div>
  </div>

  <footer>
    &copy; 2025 International Services | Contact: <a href="mailto:info@internationalservices.com">info@internationalservices.com</a>
  </footer>

  <script>
    // --- Timezone List (from tzdb snippet you gave) ---
    const tzdbList = [
      "Pacific/Pago_Pago","Pacific/Niue","Pacific/Honolulu","Pacific/Tahiti","America/Adak",
      "Pacific/Marquesas","Pacific/Gambier","America/Anchorage","Pacific/Pitcairn","America/Los_Angeles",
      "America/Phoenix","America/Denver","Pacific/Galapagos","America/Mexico_City","Pacific/Easter",
      "America/Chicago","America/Lima","America/Jamaica","America/Havana","America/New_York",
      "America/Caracas","America/Santo_Domingo","America/Santiago","America/Halifax","America/St_Johns",
      "America/Sao_Paulo","America/Miquelon","America/Noronha","America/Nuuk","Atlantic/Cape_Verde",
      "Atlantic/Azores","Africa/Abidjan","Europe/London","Europe/Lisbon","Antarctica/Troll",
      "Africa/Algiers","Africa/Lagos","Europe/Dublin","Africa/Casablanca","Europe/Paris",
      "Africa/Maputo","Africa/Tripoli","Africa/Johannesburg","Europe/Athens","Africa/Cairo",
      "Asia/Beirut","Europe/Chisinau","Asia/Gaza","Asia/Jerusalem","Europe/Istanbul",
      "Africa/Nairobi","Europe/Moscow","Asia/Tehran","Asia/Dubai","Asia/Kabul",
      "Asia/Tashkent","Asia/Karachi","Asia/Colombo","Asia/Kolkata","Asia/Kathmandu",
      "Asia/Dhaka","Asia/Yangon","Asia/Bangkok","Asia/Jakarta","Asia/Singapore",
      "Australia/Perth","Asia/Shanghai","Asia/Hong_Kong","Asia/Manila","Asia/Makassar",
      "Australia/Eucla","Asia/Chita","Asia/Tokyo","Asia/Seoul","Asia/Jayapura",
      "Australia/Darwin","Australia/Adelaide","Asia/Vladivostok","Australia/Brisbane","Pacific/Guam",
      "Australia/Sydney","Australia/Lord_Howe","Pacific/Bougainville","Pacific/Norfolk","Asia/Kamchatka",
      "Pacific/Auckland","Pacific/Chatham","Pacific/Tongatapu","Pacific/Kiritimati"
    ];

    function populateTimezones() {
      const fromSelect = document.getElementById("fromZone");
      const toSelect = document.getElementById("toZone");
      tzdbList.forEach(tz => {
        const opt1 = document.createElement("option");
        opt1.value = tz; opt1.textContent = tz;
        const opt2 = opt1.cloneNode(true);
        fromSelect.appendChild(opt1);
        toSelect.appendChild(opt2);
      });
      fromSelect.value = "Asia/Karachi";
      toSelect.value = "America/New_York";
      document.getElementById("fromTime").value = new Date().toISOString().slice(0,16);
      convertTime();
    }

    function convertTime() {
      const fromZone = document.getElementById("fromZone").value;
      const toZone = document.getElementById("toZone").value;
      const fromTime = document.getElementById("fromTime").value;

      if (!fromTime) return;
      const date = new Date(fromTime);

      const fromDate = new Intl.DateTimeFormat('en-US', {
        timeZone: fromZone, hour12: false, year: "numeric", month: "2-digit",
        day: "2-digit", hour: "2-digit", minute: "2-digit"
      }).format(date);

      const [mdy, hm] = fromDate.split(", ");
      const [month, day, year] = mdy.split("/");
      const [hour, minute] = hm.split(":");
      const utcDate = new Date(`${year}-${month}-${day}T${hour}:${minute}:00Z`);

      const toDate = new Intl.DateTimeFormat('en-US', {
        timeZone: toZone, hour12: false, year: "numeric", month: "short",
        day: "2-digit", hour: "2-digit", minute: "2-digit"
      }).format(utcDate);

      document.getElementById("toResult").textContent = toDate;
    }

    function swapZones() {
      const fromZone = document.getElementById("fromZone");
      const toZone = document.getElementById("toZone");
      const temp = fromZone.value;
      fromZone.value = toZone.value;
      toZone.value = temp;
      convertTime();
    }

    function adjustDays(offset) {
      const input = document.getElementById("fromTime");
      if (!input.value) return;
      let date = new Date(input.value);
      date.setDate(date.getDate() + offset);
      input.value = date.toISOString().slice(0,16);
      convertTime();
    }

    function updateClocks() {
      const fromZone = document.getElementById("fromZone").value;
      const toZone = document.getElementById("toZone").value;
      const now = new Date();
      document.getElementById("fromClock").textContent =
        new Intl.DateTimeFormat("en-GB", { timeZone: fromZone, hour: "2-digit", minute: "2-digit", second: "2-digit"}).format(now);
      document.getElementById("toClock").textContent =
        new Intl.DateTimeFormat("en-GB", { timeZone: toZone, hour: "2-digit", minute: "2-digit", second: "2-digit"}).format(now);
    }

    function toggleDarkMode() {
      document.body.classList.toggle("dark-mode");
    }

    setInterval(updateClocks, 1000);
    window.onload = () => { populateTimezones(); updateClocks(); };
  </script>
</body>
</html>
