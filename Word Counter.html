<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>All Tools Hub - Word Counter</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = { darkMode: 'class' }
  </script>
  <style>
    :root { --theme-color: #2563eb; }
    .btn-theme { background-color: var(--theme-color); color: white; }
    .btn-theme:hover { opacity: 0.9; }
    textarea { resize: none; overflow: hidden; }

    /* Toast style */
    #toast {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: var(--theme-color);
      color: white;
      padding: 10px 16px;
      border-radius: 6px;
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.4s ease;
      pointer-events: none;
      z-index: 100;
    }
    #toast.show {
      opacity: 1;
      transform: translateY(0);
    }
  </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 min-h-screen flex flex-col">

  <!-- Header -->
  <header class="w-full shadow bg-white dark:bg-gray-800 fixed top-0 left-0 z-50">
    <div class="max-w-6xl mx-auto flex justify-between items-center p-4">
      <h1 class="text-2xl font-bold" style="color: var(--theme-color)">All Tools Hub</h1>
      <div class="flex items-center gap-4">
        <select id="langSelect" class="p-1 rounded border dark:bg-gray-700 dark:border-gray-600 text-sm">
          <option value="en">English</option>
          <option value="ur">Ø§Ø±Ø¯Ùˆ</option>
          <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
          <option value="fr">FranÃ§ais</option>
          <option value="zh">ä¸­æ–‡</option>
          <option value="hi">à¤¹à¤¿à¤¨à¥à¤¦à¥€</option>
        </select>
        <button id="darkToggle" class="p-2 rounded border dark:border-gray-600 hover:bg-gray-200 dark:hover:bg-gray-700">ğŸŒ™</button>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="flex-grow pt-28 px-4">
    <div class="max-w-4xl mx-auto p-6 rounded shadow bg-white dark:bg-gray-800">
      <h2 id="toolTitle" class="text-2xl font-bold mb-4 text-center" style="color: var(--theme-color)">Word Counter Tool</h2>
      <textarea id="textInput" rows="4" placeholder="Type or paste your text here..." 
        class="w-full p-3 border rounded dark:bg-gray-700 dark:border-gray-600"></textarea>

      <!-- Buttons -->
      <div class="flex flex-wrap justify-end mt-2 gap-2">
        <button onclick="copyText()" class="btn-theme px-4 py-2 rounded text-sm">ğŸ“‹ Copy</button>
        <button onclick="clearText()" class="btn-theme px-4 py-2 rounded text-sm bg-red-600 hover:bg-red-700">ğŸ—‘ï¸ Clear</button>
        <div class="relative">
          <button onclick="toggleDownloadMenu()" class="btn-theme px-4 py-2 rounded text-sm">â¬‡ï¸ Download</button>
          <div id="downloadMenu" class="hidden absolute right-0 mt-1 w-40 bg-white dark:bg-gray-700 rounded shadow-md">
            <button onclick="downloadFile('txt')" class="block w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600">ğŸ“„ TXT File</button>
            <button onclick="downloadFile('csv')" class="block w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600">ğŸ“Š CSV File</button>
          </div>
        </div>
      </div>

      <!-- Stats -->
      <div class="grid sm:grid-cols-2 md:grid-cols-3 gap-4 mt-6 text-center">
        <div class="p-3 rounded bg-gray-100 dark:bg-gray-700"><span id="words">0</span><br><span id="lblWords">Words</span></div>
        <div class="p-3 rounded bg-gray-100 dark:bg-gray-700"><span id="chars">0</span><br><span id="lblChars">Characters</span></div>
        <div class="p-3 rounded bg-gray-100 dark:bg-gray-700"><span id="charsNoSpace">0</span><br><span id="lblCharsNoSpace">Characters (No Spaces)</span></div>
        <div class="p-3 rounded bg-gray-100 dark:bg-gray-700"><span id="sentences">0</span><br><span id="lblSentences">Sentences</span></div>
        <div class="p-3 rounded bg-gray-100 dark:bg-gray-700"><span id="paragraphs">0</span><br><span id="lblParagraphs">Paragraphs</span></div>
        <div class="p-3 rounded bg-gray-100 dark:bg-gray-700"><span id="readingTime">0</span><br><span id="lblReadingTime">Reading Time</span></div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="p-4 text-center bg-gray-900 text-gray-300">
    ğŸ“§ Contact: <a href="mailto:saadkhan0425@gmail.com" style="color: var(--theme-color)">saadkhan0425@gmail.com</a>
  </footer>

  <!-- Toast -->
  <div id="toast">Copied to clipboard!</div>

  <!-- Script -->
  <script>
    const textInput = document.getElementById("textInput");
    const toast = document.getElementById("toast");
    const downloadMenu = document.getElementById("downloadMenu");

    // Auto expand textarea
    function autoExpand(el) {
      el.style.height = "auto";
      el.style.height = (el.scrollHeight) + "px";
    }
    textInput.addEventListener("input", () => {
      autoExpand(textInput);
      updateStats();
    });

    // Word counter logic
    function updateStats() {
      let text = textInput.value.trim();
      let words = text.match(/\b\w+\b/g) || [];
      let sentences = text.split(/[.!?]+/).filter(s => s.trim().length > 0);
      let paragraphs = text.split(/\n+/).filter(p => p.trim().length > 0);

      document.getElementById("words").textContent = words.length;
      document.getElementById("chars").textContent = text.length;
      document.getElementById("charsNoSpace").textContent = text.replace(/\s+/g, '').length;
      document.getElementById("sentences").textContent = sentences.length;
      document.getElementById("paragraphs").textContent = paragraphs.length;
      document.getElementById("readingTime").textContent = Math.ceil(words.length / 200) + " min";
    }

    // Copy text
    function copyText() {
      navigator.clipboard.writeText(textInput.value).then(() => {
        showToast("Copied to clipboard!");
      });
    }

    // Clear text
    function clearText() {
      textInput.value = "";
      updateStats();
      showToast("Text cleared!");
    }

    // Download menu toggle
    function toggleDownloadMenu() {
      downloadMenu.classList.toggle("hidden");
    }
    window.addEventListener("click", (e) => {
      if (!e.target.closest("#downloadMenu") && !e.target.closest("button[onclick*='toggleDownloadMenu']")) {
        downloadMenu.classList.add("hidden");
      }
    });

    // Download as TXT or CSV
    function downloadFile(type) {
      let text = textInput.value;
      let filename = "word-counter." + type;
      let content = "";

      if (type === "txt") {
        content = text;
      } else if (type === "csv") {
        content = "Words,Characters,Characters_No_Spaces,Sentences,Paragraphs,Reading_Time\n";
        content += [
          document.getElementById("words").textContent,
          document.getElementById("chars").textContent,
          document.getElementById("charsNoSpace").textContent,
          document.getElementById("sentences").textContent,
          document.getElementById("paragraphs").textContent,
          document.getElementById("readingTime").textContent
        ].join(",");
      }

      let blob = new Blob([content], { type: "text/" + type });
      let link = document.createElement("a");
      link.href = URL.createObjectURL(blob);
      link.download = filename;
      link.click();

      showToast("Downloaded as " + type.toUpperCase() + "!");
    }

    // Toast
    function showToast(msg) {
      toast.textContent = msg;
      toast.classList.add("show");
      setTimeout(() => {
        toast.classList.remove("show");
      }, 2000);
    }

    // Dark/Light toggle
    const darkToggle = document.getElementById("darkToggle");
    function setTheme(isDark) {
      if (isDark) {
        document.documentElement.classList.add("dark");
        localStorage.setItem("theme", "dark");
        darkToggle.textContent = "â˜€ï¸";
      } else {
        document.documentElement.classList.remove("dark");
        localStorage.setItem("theme", "light");
        darkToggle.textContent = "ğŸŒ™";
      }
    }
    darkToggle.addEventListener("click", () => setTheme(!document.documentElement.classList.contains("dark")));
    window.onload = () => {
      const saved = localStorage.getItem("theme");
      if (saved) setTheme(saved === "dark");
      else setTheme(window.matchMedia("(prefers-color-scheme: dark)").matches);
    };

    // Multi-language translations
    const translations = {
      en:{title:"Word Counter Tool",words:"Words",chars:"Characters",charsNoSpace:"Characters (No Spaces)",sentences:"Sentences",paragraphs:"Paragraphs",readingTime:"Reading Time"},
      ur:{title:"ÙˆØ±Úˆ Ú©Ø§Ø¤Ù†Ù¹Ø± Ù¹ÙˆÙ„",words:"Ø§Ù„ÙØ§Ø¸",chars:"Ø­Ø±ÙˆÙ",charsNoSpace:"Ø­Ø±ÙˆÙ (Ø¨ØºÛŒØ± Ø®Ø§Ù„ÛŒ Ø¬Ú¯Û)",sentences:"Ø¬Ù…Ù„Û’",paragraphs:"Ù¾ÛŒØ±Û’",readingTime:"Ù¾Ú‘Ú¾Ù†Û’ Ú©Ø§ ÙˆÙ‚Øª"},
      ar:{title:"Ø£Ø¯Ø§Ø© Ø¹Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª",words:"ÙƒÙ„Ù…Ø§Øª",chars:"Ø£Ø­Ø±Ù",charsNoSpace:"Ø£Ø­Ø±Ù (Ø¨Ø¯ÙˆÙ† Ù…Ø³Ø§ÙØ§Øª)",sentences:"Ø¬Ù…Ù„",paragraphs:"ÙÙ‚Ø±Ø§Øª",readingTime:"ÙˆÙ‚Øª Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©"},
      fr:{title:"Outil Compteur de Mots",words:"Mots",chars:"CaractÃ¨res",charsNoSpace:"CaractÃ¨res (Sans Espaces)",sentences:"Phrases",paragraphs:"Paragraphes",readingTime:"Temps de lecture"},
      zh:{title:"å­—æ•°ç»Ÿè®¡å·¥å…·",words:"è¯",chars:"å­—ç¬¦",charsNoSpace:"å­—ç¬¦ï¼ˆä¸å«ç©ºæ ¼ï¼‰",sentences:"å¥å­",paragraphs:"æ®µè½",readingTime:"é˜…è¯»æ—¶é—´"},
      hi:{title:"à¤¶à¤¬à¥à¤¦ à¤—à¤¿à¤¨à¤¨à¥‡ à¤•à¤¾ à¤‰à¤ªà¤•à¤°à¤£",words:"à¤¶à¤¬à¥à¤¦",chars:"à¤…à¤•à¥à¤·à¤°",charsNoSpace:"à¤…à¤•à¥à¤·à¤° (à¤¬à¤¿à¤¨à¤¾ à¤¸à¥à¤ªà¥‡à¤¸)",sentences:"à¤µà¤¾à¤•à¥à¤¯",paragraphs:"à¤…à¤¨à¥à¤šà¥à¤›à¥‡à¤¦",readingTime:"à¤ªà¤¢à¤¼à¤¨à¥‡ à¤•à¤¾ à¤¸à¤®à¤¯"}
    };

    document.getElementById("langSelect").addEventListener("change", e => {
      let t = translations[e.target.value];
      document.getElementById("toolTitle").textContent = t.title;
      document.getElementById("lblWords").textContent = t.words;
      document.getElementById("lblChars").textContent = t.chars;
      document.getElementById("lblCharsNoSpace").textContent = t.charsNoSpace;
      document.getElementById("lblSentences").textContent = t.sentences;
      document.getElementById("lblParagraphs").textContent = t.paragraphs;
      document.getElementById("lblReadingTime").textContent = t.readingTime;
    });
  </script>
</body>
</html>
