<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>All Tools Hub - Password Generator</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 font-sans">

<!-- Header -->
<header class="bg-white dark:bg-gray-800 shadow fixed w-full z-50">
  <div class="max-w-7xl mx-auto flex justify-between items-center px-6 py-4">
    <h1 class="text-2xl md:text-3xl font-bold text-indigo-600 dark:text-indigo-400 cursor-pointer" onclick="window.location.href='index.html'">All Tools Hub</h1>
    <div class="flex items-center gap-3">
      <button id="darkToggle" class="text-sm px-3 py-1 border rounded hover:bg-gray-200 dark:hover:bg-gray-700">ðŸŒ™</button>
    </div>
  </div>
</header>

<!-- Password Generator Section -->
<section class="pt-32 pb-16 px-6 max-w-4xl mx-auto">
  <h2 class="text-3xl md:text-4xl font-bold text-indigo-700 dark:text-indigo-400 mb-8 text-center">Password Generator</h2>
  <div class="bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 md:p-8 space-y-6">
    
    <!-- Password display card -->
    <div class="bg-gray-100 dark:bg-gray-700 p-6 md:p-8 rounded-2xl shadow-lg text-center flex flex-col items-center justify-center">
      <span id="passwordDisplay" class="text-2xl md:text-4xl font-mono text-indigo-700 dark:text-indigo-300 break-words select-all">Your password will appear here</span>
      <button onclick="copyPassword()" class="mt-4 px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 transition text-sm md:text-base">Copy Password</button>
    </div>

    <!-- Password options -->
    <div>
      <label class="block text-gray-700 dark:text-gray-200 font-medium mb-2">Password Length</label>
      <input type="range" min="6" max="32" value="12" id="lengthSlider" class="w-full" oninput="updateLengthDisplay(this.value); generatePassword();">
      <div class="text-sm md:text-base text-gray-600 dark:text-gray-300 mt-1">Length: <span id="lengthDisplay">12</span> characters</div>
    </div>

    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-4">
      <label class="flex items-center gap-2">
        <input type="checkbox" id="includeUppercase" checked onchange="generatePassword()"/>
        <span class="text-gray-700 dark:text-gray-200">Uppercase</span>
      </label>
      <label class="flex items-center gap-2">
        <input type="checkbox" id="includeLowercase" checked onchange="generatePassword()"/>
        <span class="text-gray-700 dark:text-gray-200">Lowercase</span>
      </label>
      <label class="flex items-center gap-2">
        <input type="checkbox" id="includeNumbers" checked onchange="generatePassword()"/>
        <span class="text-gray-700 dark:text-gray-200">Numbers</span>
      </label>
      <label class="flex items-center gap-2">
        <input type="checkbox" id="includeSymbols" onchange="generatePassword()"/>
        <span class="text-gray-700 dark:text-gray-200">Symbols</span>
      </label>
    </div>

    <button onclick="generatePassword()" class="w-full mt-4 bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition text-base md:text-lg">Generate Password</button>

    <!-- Password info with progress bars -->
    <div class="mt-4 space-y-4">
      <!-- Strength -->
      <div>
        <div class="flex justify-between mb-1 text-sm md:text-base">
          <span>Password Strength</span>
          <span id="strengthIndicator">N/A</span>
        </div>
        <div class="w-full bg-gray-300 dark:bg-gray-600 h-3 rounded overflow-hidden">
          <div id="strengthBar" class="h-3 rounded transition-all duration-500"></div>
        </div>
      </div>

      <!-- Estimated hacking time -->
      <div>
        <div class="flex justify-between mb-1 text-sm md:text-base">
          <span>Estimated Hacker Time</span>
          <span id="hackTime">N/A</span>
        </div>
        <div class="w-full bg-gray-300 dark:bg-gray-600 h-3 rounded overflow-hidden">
          <div id="hackBar" class="h-3 rounded transition-all duration-500"></div>
        </div>
      </div>
    </div>

  </div>
</section>

<!-- Footer -->
<footer class="bg-gray-900 text-gray-300 py-6 text-center">
  Email: <a href="mailto:saadkhan0425@gmail.com" class="underline text-indigo-400">saadkhan0425@gmail.com</a>
</footer>

<script>
  // Dark/light mode auto-detection
  if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
    document.body.classList.add('dark');
  }

  // Toggle button
  document.getElementById("darkToggle").addEventListener("click", () => {
    document.body.classList.toggle("dark");
  });

  // Update slider display
  function updateLengthDisplay(val) {
    document.getElementById('lengthDisplay').textContent = val;
  }

  // Copy password
  function copyPassword() {
    const password = document.getElementById('passwordDisplay').textContent;
    navigator.clipboard.writeText(password).then(() => {
      alert('Password copied to clipboard!');
    });
  }

  // Password generator
  function generatePassword() {
    const length = parseInt(document.getElementById('lengthSlider').value);
    const includeUppercase = document.getElementById('includeUppercase').checked;
    const includeLowercase = document.getElementById('includeLowercase').checked;
    const includeNumbers = document.getElementById('includeNumbers').checked;
    const includeSymbols = document.getElementById('includeSymbols').checked;

    let charset = '';
    const types = [];

    if (includeUppercase) { charset += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'; types.push('upper'); }
    if (includeLowercase) { charset += 'abcdefghijklmnopqrstuvwxyz'; types.push('lower'); }
    if (includeNumbers) { charset += '0123456789'; types.push('number'); }
    if (includeSymbols) { charset += '!@#$%^&*()_+[]{}<>?/|'; types.push('symbol'); }

    if (!charset) {
      const msg = 'Select at least one character type.';
      document.getElementById('passwordDisplay').textContent = msg;
      document.getElementById('strengthIndicator').textContent = 'N/A';
      document.getElementById('strengthBar').style.width = '0%';
      document.getElementById('hackTime').textContent = 'N/A';
      document.getElementById('hackBar').style.width = '0%';
      return;
    }

    let password = [];
    types.forEach(type => {
      if (type === 'upper') password.push(randomChar('ABCDEFGHIJKLMNOPQRSTUVWXYZ'));
      if (type === 'lower') password.push(randomChar('abcdefghijklmnopqrstuvwxyz'));
      if (type === 'number') password.push(randomChar('0123456789'));
      if (type === 'symbol') password.push(randomChar('!@#$%^&*()_+[]{}<>?/|'));
    });

    for (let i = password.length; i < length; i++) {
      password.push(randomChar(charset));
    }

    password = password.sort(() => Math.random() - 0.5).join('');
    document.getElementById('passwordDisplay').textContent = password;

    // Strength
    const strengthText = checkStrength(password);
    document.getElementById('strengthIndicator').textContent = strengthText;
    const strengthBar = document.getElementById('strengthBar');
    let strengthPercent = 0;
    if(strengthText==='Weak'){strengthPercent=33; strengthBar.style.background='linear-gradient(to right, #f87171, #fbbf24)';}
    if(strengthText==='Medium'){strengthPercent=66; strengthBar.style.background='linear-gradient(to right, #fbbf24, #34d399)';}
    if(strengthText==='Strong'){strengthPercent=100; strengthBar.style.background='linear-gradient(to right, #34d399, #10b981)';}
    strengthBar.style.width = strengthPercent + '%';

    // Hacking time
    const hackText = estimateHackTime(password);
    document.getElementById('hackTime').textContent = hackText;

    const hackBar = document.getElementById('hackBar');
    const seconds = secondsToNumber(password);
    let hackPercent = Math.min(100, Math.log10(Math.max(1, seconds))/10*100);
    if(hackPercent<33) hackBar.style.background='linear-gradient(to right, #f87171, #fbbf24)';
    else if(hackPercent<66) hackBar.style.background='linear-gradient(to right, #fbbf24, #34d399)';
    else hackBar.style.background='linear-gradient(to right, #34d399, #10b981)';
    hackBar.style.width = hackPercent + '%';
  }

  function randomChar(str) {
    return str.charAt(Math.floor(Math.random() * str.length));
  }

  function checkStrength(password) {
    let strength = 0;
    if (password.length >= 8) strength++;
    if (/[A-Z]/.test(password) && /[a-z]/.test(password)) strength++;
    if (/\d/.test(password)) strength++;
    if (/[\!\@\#\$\%\^\&\*\(\)\_\+\[\]\{\}\<\>\?\/\|]/.test(password)) strength++;

    if (strength <= 1) return 'Weak';
    if (strength === 2 || strength === 3) return 'Medium';
    if (strength === 4) return 'Strong';
  }

  function estimateHackTime(password) {
    const charsetSize = (
      (/[A-Z]/.test(password) ? 26 : 0) +
      (/[a-z]/.test(password) ? 26 : 0) +
      (/\d/.test(password) ? 10 : 0) +
      (/[\!\@\#\$\%\^\&\*\(\)\_\+\[\]\{\}\<\>\?\/\|]/.test(password) ? 32 : 0)
    );
    const combinations = Math.pow(charsetSize, password.length);
    const guessesPerSecond = 1e9;
    const seconds = combinations / guessesPerSecond;

    if (seconds < 60) return `${Math.round(seconds)} sec`;
    const minutes = seconds/60;
    if (minutes < 60) return `${Math.round(minutes)} min`;
    const hours = minutes/60;
    if (hours < 24) return `${Math.round(hours)} hr`;
    const days = hours/24;
    if (days < 365) return `${Math.round(days)} days`;
    const years = days/365;
    return `${Math.round(years)} years`;
  }

  function secondsToNumber(password){
    const charsetSize = (
      (/[A-Z]/.test(password) ? 26 : 0) +
      (/[a-z]/.test(password) ? 26 : 0) +
      (/\d/.test(password) ? 10 : 0) +
      (/[\!\@\#\$\%\^\&\*\(\)\_\+\[\]\{\}\<\>\?\/\|]/.test(password) ? 32 : 0)
    );
    const combinations = Math.pow(charsetSize, password.length);
    const guessesPerSecond = 1e9;
    return combinations/guessesPerSecond;
  }

  window.onload = generatePassword;
</script>
</body>
</html>
