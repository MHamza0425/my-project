<div class="cube-container" style="position:relative; width:300px; height:300px; margin:50px auto;">
  <!-- Text above cube -->
  <div id="cubeTitle" style="text-align:center; font-size:24px; font-weight:bold; margin-bottom:10px; color:#3b82f6;">
    Welcome to All Tools Hub
  </div>

  <!-- Cube -->
  <div id="cube" class="cube">
    <div class="face front" data-url="#tools" data-color="#3b82f6">Tools</div>
    <div class="face back" data-url="#privacy" data-color="#2563eb">Privacy</div>
    <div class="face right" data-url="#terms" data-color="#8b5cf6">Terms</div>
    <div class="face left" data-url="#about" data-color="#7c3aed">About</div>
    <div class="face top" data-url="#contact" data-color="#22c55e">Contact</div>
    <div class="face bottom" data-url="#faq" data-color="#f59e0b">FAQ</div>
  </div>
</div>

<style>
.cube {
  width: 200px;
  height: 200px;
  position: relative;
  transform-style: preserve-3d;
  transition: transform 0.2s ease-out;
  cursor: grab;
  margin: auto;
}

.face {
  position: absolute;
  width: 200px;
  height: 200px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 1.2rem;
  color: white;
  border: 2px solid rgba(255,255,255,0.3);
  box-shadow: 0 4px 15px rgba(0,0,0,0.3);
  transition: all 0.3s ease, background 1s ease; /* smooth color transitions */
}

.face:hover {
  transform: scale(1.05);
  box-shadow: 0 8px 20px rgba(0,0,0,0.5);
}

/* Initial positions */
.front  { transform: rotateY(0deg) translateZ(100px);}
.back   { transform: rotateY(180deg) translateZ(100px);}
.right  { transform: rotateY(90deg) translateZ(100px);}
.left   { transform: rotateY(-90deg) translateZ(100px);}
.top    { transform: rotateX(90deg) translateZ(100px);}
.bottom { transform: rotateX(-90deg) translateZ(100px);}
</style>

<script>
const cube = document.getElementById("cube");
const cubeTitle = document.getElementById("cubeTitle");
let isDragging = false;
let prevX, prevY;
let rotX = -15, rotY = 0;
let inertiaX = 0, inertiaY = 0;
const friction = 0.95;

// Faces
const faces = Array.from(document.querySelectorAll(".face"));

// Original colors
const originalColors = faces.map(f => f.getAttribute("data-color"));

// Clickable faces
faces.forEach(face => {
  face.addEventListener("click", () => {
    const url = face.getAttribute("data-url");
    if(url.startsWith("#")){
      const section = document.querySelector(url);
      if(section) section.scrollIntoView({behavior:"smooth"});
    } else {
      window.location.href = url;
    }
  });
});

// Drag & Touch
function startDrag(e){
  isDragging = true;
  prevX = e.type.includes("touch") ? e.touches[0].clientX : e.clientX;
  prevY = e.type.includes("touch") ? e.touches[0].clientY : e.clientY;
  cube.style.transition = "none";
}
function moveDrag(e){
  if(!isDragging) return;
  const currX = e.type.includes("touch") ? e.touches[0].clientX : e.clientX;
  const currY = e.type.includes("touch") ? e.touches[0].clientY : e.clientY;
  const dx = currX - prevX;
  const dy = currY - prevY;
  rotY += dx*0.5;
  rotX -= dy*0.5;
  rotX = Math.max(-90, Math.min(90, rotX));
  cube.style.transform = `rotateX(${rotX}deg) rotateY(${rotY}deg)`;
  prevX = currX; prevY = currY;
  inertiaX = -dy*0.5;
  inertiaY = dx*0.5;
  detectFrontFace();
}
function endDrag(){ 
  isDragging=false; 
  cube.style.transition = "transform 0.2s ease-out";
}
cube.addEventListener("mousedown", startDrag);
document.addEventListener("mousemove", moveDrag);
document.addEventListener("mouseup", endDrag);
cube.addEventListener("touchstart", startDrag);
cube.addEventListener("touchmove", moveDrag);
cube.addEventListener("touchend", endDrag);

// Auto-spin + inertia
function spinCube(){
  if(!isDragging){
    rotY += inertiaY * 0.1;
    rotX += inertiaX * 0.1;
    rotX = Math.max(-90, Math.min(90, rotX));
    inertiaX *= friction;
    inertiaY *= friction;
    cube.style.transform = `rotateX(${rotX}deg) rotateY(${rotY}deg)`;
    detectFrontFace();
  }
  requestAnimationFrame(spinCube);
}
spinCube();

// Update cube title & highlight front face
function detectFrontFace(){
  let frontFace = faces[0];
  let maxZ = -Infinity;
  faces.forEach(face=>{
    const rect = face.getBoundingClientRect();
    if(rect.top > maxZ){ maxZ = rect.top; frontFace = face; }
  });
  cubeTitle.innerText = frontFace.innerText;
  
  // Animate face colors
  faces.forEach((f,i)=>{
    let color = f===frontFace ? lightenColor(originalColors[i], 30) : originalColors[i];
    f.style.background = `linear-gradient(135deg, ${color}, #ffffff33)`;
  });
}

// Lighten color function
function lightenColor(hex, percent){
  const num = parseInt(hex.replace("#",""),16),
        amt = Math.round(2.55*percent),
        R = (num>>16)+amt,
        G = (num>>8 & 0x00FF)+amt,
        B = (num & 0x0000FF)+amt;
  return "#" + (0x1000000 + 
    (R<255?R<1?0:R:255)*0x10000 + 
    (G<255?G<1?0:G:255)*0x100 + 
    (B<255?B<1?0:B:255)).toString(16).slice(1);
}

// Initialize
detectFrontFace();
</script>
